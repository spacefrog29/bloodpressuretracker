# Blood Pressure Tracker - Vue 3 Application

A modern blood pressure tracking application built with Vue 3, Vite, and Supabase.

## Features

- **User Authentication**: Secure login and registration using Supabase Auth
- **Blood Pressure Tracking**: Record and monitor systolic, diastolic, and heart rate readings
- **Statistics Dashboard**: View average readings and BP category classifications
- **Data Export**: Export your readings to CSV format
- **Admin Console**: Manage your account and change password
- **Responsive Design**: Works seamlessly on desktop and mobile devices

## Prerequisites

- Node.js (v16 or higher)
- npm or yarn
- Supabase account and project

## Supabase Setup

Before running the application, you need to set up your Supabase database:

1. Go to your Supabase project dashboard
2. Navigate to the SQL Editor
3. Run the following SQL to create the blood_pressure_readings table (if not already created):

```sql
create table blood_pressure_readings (
  id bigint generated by default as identity primary key,
  reading_date date not null,
  systolic integer not null,
  diastolic integer not null,
  heart_rate integer not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable Row Level Security (RLS)
alter table blood_pressure_readings enable row level security;

-- Create a policy that allows authenticated users to manage their own data
-- Note: This simple policy allows all authenticated users to see all data
-- You may want to add a user_id column and filter by user for multi-user support
create policy "Allow authenticated users full access"
  on blood_pressure_readings
  for all
  using (auth.role() = 'authenticated');
```

4. (Optional) If you want email confirmation disabled for easier testing:
   - Go to Authentication → Settings
   - Disable "Enable email confirmations"

## Installation

1. Clone the repository (if not already done)
2. Install dependencies:

```bash
npm install
```

3. Update Supabase credentials in `src/services/supabase.js` if needed (they're already configured)

## Running the Application

### Development Mode

```bash
npm run dev
```

The application will start at `http://localhost:3000`

### Build for Production

```bash
npm run build
```

### Preview Production Build

```bash
npm run preview
```

## Usage

### First Time Setup

1. Open the app in your browser
2. Click "Sign Up" on the login page
3. Create an account with your email and password
4. If email confirmation is enabled, check your email and confirm your account
5. Log in with your credentials

### Adding Blood Pressure Readings

1. Navigate to the Dashboard
2. Fill in the Date, Systolic, Diastolic, and Heart Rate fields
3. Click "Add Reading"
4. Your reading will appear in the table below with its BP category

### Managing Your Account

1. Click "Admin" in the navigation bar
2. View your account information and database statistics
3. Change your password in the "Change Password" section
4. Use the danger zone carefully - deleting all readings cannot be undone!

### Exporting Data

1. On the Dashboard, click "Export CSV"
2. Your readings will be downloaded as a CSV file

## BP Categories

The app automatically categorizes readings:
- **Normal**: Systolic < 120 AND Diastolic < 80
- **Elevated**: Systolic < 130 AND Diastolic < 80
- **Stage 1 High**: Systolic < 140 OR Diastolic < 90
- **Stage 2 High**: Systolic < 180 OR Diastolic < 120
- **Crisis**: Systolic ≥ 180 OR Diastolic ≥ 120

## Project Structure

```
blood-pressure-tracker/
├── src/
│   ├── components/
│   │   └── BloodPressureTracker.vue    # Main tracker component
│   ├── views/
│   │   ├── LoginView.vue               # Login/signup page
│   │   ├── DashboardView.vue           # Main dashboard
│   │   └── AdminView.vue               # Admin console
│   ├── composables/
│   │   └── useAuth.js                  # Authentication logic
│   ├── services/
│   │   └── supabase.js                 # Supabase client config
│   ├── router/
│   │   └── index.js                    # Vue Router config
│   ├── App.vue                         # Root component
│   ├── main.js                         # App entry point
│   └── style.css                       # Global styles
├── index.html
├── vite.config.js
└── package.json
```

## Technologies Used

- **Vue 3**: Progressive JavaScript framework
- **Vite**: Fast build tool and dev server
- **Vue Router**: Official routing library
- **Supabase**: Backend-as-a-Service (BaaS) for auth and database
- **JavaScript**: ES6+ for modern syntax

## Security Notes

- Never commit your Supabase credentials to public repositories
- Consider using environment variables for sensitive data
- The current RLS policy allows all authenticated users to access all data
- For multi-user support, add a `user_id` column and update RLS policies

## Backup

The original static HTML file has been backed up as `bloodpressure.html.old`

## License

This project is for personal use.
